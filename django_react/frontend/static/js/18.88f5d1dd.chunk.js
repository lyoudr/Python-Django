(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[18],{137:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(71),c=a.n(n),r=a(72),i=a(7),s=a(8),l=a(12),o=a(9),u=a(10),m=a(0),p=a.n(m),h=a(23),d=a(2),f=a(29),b=a(15),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{onClick:this.props.onClick},p.a.createElement("p",null,this.props.item_name),p.a.createElement("img",{src:this.props.img_src})))}}]),a}(p.a.Component),v=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("this.props is =>",this.props.list.item_name)}},{key:"addToCart",value:function(e,t,a,n,c,r,i){console.log("id is =>",e),console.log("item_name is =>",t),console.log("description is =>",c),this.props.addToCart(e,t,a,n,c,r,i)}},{key:"render",value:function(){return p.a.createElement("div",{className:"addtocart"},p.a.createElement("button",{onClick:this.addToCart.bind(this,this.props.list.id,this.props.list.item_name,this.props.list.price,this.props.list.img_src,this.props.list.description,this.props.color,this.props.size)},"Add To Cart"))}}]),a}(p.a.Component),j=Object(f.b)((function(e){return{cart:e.cart}}),(function(e){return{addToCart:function(t,a,n,c,r,i,s){return e(Object(b.d)(t,a,n,c,r,i,s))}}}))(v),O=a(93),k=a.n(O),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={list:{id:1,item_name:"",description:"",img_src:"",price:"",isDetail:!1},color:"",size:""},n.chooseColor=n.chooseColor.bind(Object(l.a)(n)),n.chooseSize=n.chooseSize.bind(Object(l.a)(n)),n.colors=[],n.sizes=[],n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){var e=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},t=document.querySelectorAll(".show-on-scroll");!function a(){Array.prototype.forEach.call(t,(function(e){!function(e){"function"===typeof k.a&&e instanceof k.a&&(e=e[0]);var t=e.getBoundingClientRect();return t.top<=0&&t.bottom>=0||t.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&t.top<=(window.innerHeight||document.documentElement.clientHeight)||t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(e)?e.classList.remove("is-visible"):e.classList.add("is-visible")})),e(a)}()}},{key:"showShopDetail",value:function(e,t){var a=this;console.log("list is =>",t),this.props.showShopDetail(e),this.setState({list:t},(function(){return console.log("this.state.list is =>",a.state.list)}))}},{key:"chooseColor",value:function(e,t){this.setState({color:e}),this.colors.forEach((function(e,a){a==t?e.classList.contains("active")||e.classList.add("active"):e.classList.remove("active")}))}},{key:"chooseSize",value:function(e,t){this.setState({size:e}),this.sizes.forEach((function(e,a){a==t?e.classList.contains("active")||e.classList.add("active"):e.classList.remove("active")}))}},{key:"render",value:function(){var e=this,t=["pink","green","blue","red"],a=["S","M","L","XL"];this.state;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"col-3 select"},this.props.shoplist.map((function(t){return p.a.createElement(E,Object.assign({key:t.id},t,{onClick:e.showShopDetail.bind(e,t.id,t)}))}))),p.a.createElement("div",{className:"col-9 display"},this.props.shoplist.map((function(n){return n.isDetail?p.a.createElement("div",{key:n.item_name},p.a.createElement("img",{className:"show-on-scroll",src:n.img_src}),p.a.createElement("p",null,n.item_name),p.a.createElement("p",null,n.price),p.a.createElement("p",null,n.description),p.a.createElement("div",{className:"color"},p.a.createElement("span",null,"Color"),t.map((function(t,a){return p.a.createElement("div",{key:t,ref:function(t){return e.colors[a]=t},onClick:e.chooseColor.bind(e,t,a)},p.a.createElement("span",null,t))}))),p.a.createElement("div",{className:"size"},p.a.createElement("span",null,"Size"),a.map((function(t,a){return p.a.createElement("div",{key:t,ref:function(t){return e.sizes[a]=t},onClick:e.chooseSize.bind(e,t,a)},t)}))),p.a.createElement(j,{list:e.state.list,color:e.state.color,size:e.state.size})):null}))))}}]),a}(p.a.Component),g=Object(f.b)((function(e){return{shoplist:e.shoplist}}),(function(e){return{showShopDetail:function(t){return e(Object(b.m)(t))}}}))(y),C=a(221),S=a(73),w=(a(137),Object(m.lazy)((function(){return a.e(17).then(a.bind(null,258))}))),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={price_range:["100 ~ 500","500 ~ 1000","1000 ~ 1500"],selected_price:"100 ~ 500"},n.searchRef=p.a.createRef(),n.compRef=p.a.createRef(),n.searchItem=n.searchItem.bind(Object(l.a)(n)),n.choosePrice=n.choosePrice.bind(Object(l.a)(n)),n.detectInput=n.detectInput.bind(Object(l.a)(n)),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){1==this.props.fullComp?this.compRef.current.classList.add("fullComp"):this.compRef.current.classList.remove("fullComp")}},{key:"searchItem",value:function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.searchRef.current.value,this.props.fetchPosts(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"choosePrice",value:function(e){var t=this;this.setState({selected_price:e}),S.a.choosePrice("".concat("http://ec2-13-231-184-72.ap-northeast-1.compute.amazonaws.com:3000/api","/shop_price/"),e).then((function(e){e.map((function(e){return e.isDetail=!1})),t.props.newShopDetail(e)}))}},{key:"detectInput",value:function(e){""===e.target.value&&this.props.showAllItem()}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{ref:this.compRef,className:"shoplist main"},p.a.createElement("section",{className:"shopselect"},p.a.createElement("div",{className:"container"},p.a.createElement("div",{className:"row justify-content-center search"},p.a.createElement("div",{className:"col-10 col-md-8"},p.a.createElement("div",null,p.a.createElement("input",{type:"text",ref:this.searchRef,onChange:this.detectInput.bind(this)}),p.a.createElement("button",{onClick:this.searchItem},"Search"),p.a.createElement("button",null,p.a.createElement("div",null,this.props.cart.length),p.a.createElement(h.b,{to:"/shoplist/cart"},"Cart")),p.a.createElement("button",null,p.a.createElement(h.b,{to:"/shoplist/shopitems"},"Order"))))),p.a.createElement("nav",null,p.a.createElement("ul",null,p.a.createElement("li",{className:"sub-menu-parent","tab-index":"0"},p.a.createElement("a",{href:"#"},"Item1"),p.a.createElement("ul",{className:"sub-menu"},p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 1")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 2")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 3")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 4")))),p.a.createElement("li",{className:"sub-menu-parent","tab-index":"0"},p.a.createElement("a",{href:"#"},"Item2"),p.a.createElement("ul",{className:"sub-menu"},p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 1")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 2")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 3")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 4")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 5")),p.a.createElement("li",null,p.a.createElement("a",{href:"#"},"Sub Item 6")))),p.a.createElement("li",{className:"sub-menu-parent","tab-index":"0"},p.a.createElement("a",{href:"#"},"Price"),p.a.createElement("ul",{className:"sub-menu"},this.state.price_range.map((function(t){return p.a.createElement("li",{key:t},p.a.createElement("a",{className:"price ".concat(e.state.selected_price===t?"active":""),onClick:e.choosePrice.bind(e,t)},t))})))))))),p.a.createElement("section",{className:"shopdetails"},p.a.createElement("div",{className:"container"},p.a.createElement("div",{className:"row"},p.a.createElement(g,null)))),p.a.createElement(d.d,null,p.a.createElement(d.b,{path:"/shoplist/cart",component:w}),p.a.createElement(d.b,{path:"/shoplist/shopitems",component:C.default})))}}]),a}(p.a.PureComponent);t.default=Object(f.b)((function(e){return{postsBysearchText:e.postsBysearchText,cart:e.cart}}),(function(e){return{newShopDetail:function(t){return e(Object(b.i)(t))},fetchPosts:function(t){return e(Object(b.g)(t))},showAllItem:function(){return e(Object(b.k)())}}}))(I)}}]);
//# sourceMappingURL=18.88f5d1dd.chunk.js.map